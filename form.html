<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback form</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <style>
         /* Custom CSS for form */
         .form-container {
            max-width: 500px;
            margin: auto;
            margin-top: 50px;
            margin-bottom: 100px; /* Add space between the form and footer */
            border-radius: 10px;
            padding: 20px;
            background-color: #f8f9fa; /* Light gray background */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .form-container {
                margin-bottom: 50px; /* Less space on smaller screens */
            }
        }

        .char-counter {
            position: absolute;
            bottom: 8px;
            right: 8px;
            color: #999;
            font-size: 12px;
        }

        /* Star Rating CSS */
        .star-rating {
            line-height:32px;
            font-size:1.25em;
            direction: rtl; /* Right to left direction */
        }

        .star-rating .star {
            display: none;
        }

        .star-rating label {
            color: #ddd; /* Default star color */
            cursor: pointer;
        }

        /* Reverse the direction back for the labels */
        .star-rating label {
            direction: ltr; /* Left to right direction */
        }

        .star-rating input:checked ~ label {
            color: #ffc700; /* Selected star color */
        }

        .star-rating label:hover,
        .star-rating label:hover ~ label {
            color: #e6b600; /* Hover star color */
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="index.html">My Programming Portfolio</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="projects.html">Projects</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="blog.html">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="form.html">Feedback</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container form-container">
        <h2 class="text-center mb-4">Feedback form</h2>
        <form id="exampleForm">
            <!-- Name Input -->
            <div class="form-group">
                <input type="text" class="form-control" id="name" name="name" placeholder="Your Name" required>
            </div>
            <!-- Email Input -->
            <div class="form-group">
                <input type="email" class="form-control" id="email" name="email" placeholder="Your Email" required>
            </div>
            <!-- Age Input -->
            <div class="form-group">
                <input type="number" class="form-control" id="age" name="age" placeholder="Your Age" required>
            </div>
            <!-- Gender Input -->
            <div class="form-group">
                <select class="form-control" id="gender" name="gender" required>
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <!-- Star Rating Input -->
            <div class="form-group">
                <div class="star-rating">
                    <input id="star5" name="rating" type="radio" value="5" class="star" />
                    <label for="star5" title="5 star">★</label>
                    <input id="star4" name="rating" type="radio" value="4" class="star" />
                    <label for="star4" title="4 stars">★</label>
                    <input id="star3" name="rating" type="radio" value="3" class="star" />
                    <label for="star3" title="3 stars">★</label>
                    <input id="star2" name="rating" type="radio" value="2" class="star" />
                    <label for="star2" title="2 stars">★</label>
                    <input id="star1" name="rating" type="radio" value="1" class="star" />
                    <label for="star1" title="1 stars">★</label>
                </div>
            </div>
            <!-- Additional Comments -->
            <div class="form-group position-relative">
                <textarea class="form-control" id="comments" name="comments" rows="3" placeholder="Additional Comments (Max 100 Characters)" required maxlength="100"></textarea>
                <span class="char-counter">100</span>
            </div>
            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary btn-block">Submit</button>
        </form>
    </div>
    
    <footer class="bg-dark text-white text-center py-3 fixed-bottom">
        <p>Contact me: <a href="mailto:mn932850@dal.ca" class="text-warning">mn932850@dal.ca</a></p>
    </footer>

    <!-- Bootstrap JS (Optional for some features) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script>
        const form = document.getElementById('exampleForm');
        const commentsTextarea = document.getElementById('comments');
        const charCounter = document.querySelector('.char-counter');
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            if (form.checkValidity()) {
                const rating = form.querySelector('input[name="rating"]:checked').value;
                let feedbackMessage = "Thank you for your feedback!";
                if (rating >= 4) {
                    feedbackMessage = "We're thrilled to hear you enjoyed it! Feel free to share your experience.";
                } else if (rating == 3) {
                    feedbackMessage = "Thank you! We're always looking to improve.";
                } else {
                    feedbackMessage = "We're sorry to hear that. Please let us know how we can improve.";
                }
                Toastify({
                    text: feedbackMessage,
                    duration: 5000,
                    close: false,
                    gravity: "top", 
                    position: "right",
                    stopOnFocus: true, 
                    style: {
                        background: "linear-gradient(to right, #00b09b, #96c93d)",
                    },
                    onClick: function(){}
                }).showToast();
                form.reset();
            } else {
                alert('Please fill out all required fields correctly.');
            }
        });
        commentsTextarea.addEventListener('input', function() {
            const remainingChars = 100 - commentsTextarea.value.length;
            charCounter.textContent = remainingChars;
            if (remainingChars === 0) {
                commentsTextarea.setAttribute('maxlength', commentsTextarea.value.length);
                charCounter.textContent = 'Max characters reached';
            }
        });
    </script>
</body>
</html>
